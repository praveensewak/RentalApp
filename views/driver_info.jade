//
                                Created by Asif on 7/12/2014.
// preset form values if we receive a userdata object //
- user = typeof(udata) != 'undefined' ? udata : { }
// store the userId on the client side in a hidden input field //
input(type='hidden', value= user._id)#userId
.container
#account-form-container2.mainbox.col-md-4.col-md-offset-4.col-sm-8.col-sm-offset-2(style='margin-top: 25px;')
    .panel.panel-info
        .panel-heading
            .panel-title taxi Driver Sign Up - Tell us about your self
        .panel-body(style='padding-top: 10px;')
            form( method="post" enctype="multipart/form-data")#account-form.form-horizontal(role='form')
                h4(style='margin-top: 20px;margin-bottom: 0px;') Your Personal Information
                hr(style='margin-top: 5px;')
                .input-group#first_name-cg(style='margin-top: 0px;margin-bottom: 10px;')
                    span.input-group-addon First Name
                    input#first_name-tf.form-control(type='text', name='first_name', value= user.first_name, placeholder='First Name', maxlength='50')
                .input-group#last_name-cg(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Last Name
                    input#last_name-tf.form-control(type='text', name='last_name', value= user.last_name, placeholder='Last Name', maxlength='50')
                .input-group#social_security_number-cg(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Social Security #
                    input#social_security_number-tf.form-control(type='text', name='social_security_number', value= user.social_security_number, placeholder='Social Security Number', maxlength='9')
                .form-inline(style='margin-top: 10px;margin-bottom: 10px;')
                    .form-group
                        .input-group(style='margin-left: 15px')#dob_month-cg
                            span.input-group-addon Date of Birth
                            select#dob_month-tf(style='width: 91px;').form-control(name='dob_month')
                                option(value='') MM
                                option(value='1') JAN
                                option(value='2') FEB
                                option(value='3') MAR
                                option(value='4') APR
                                option(value='5') MAY
                                option(value='6') JUN
                                option(value='7') JUL
                                option(value='8') AUG
                                option(value='9') SEP
                                option(value='10') OCT
                                option(value='11') NOV
                                option(value='12') DEC
                    .form-group
                        .input-group(style='margin-left: 30px;')#dob_day-cg
                            select#dob_day-tf(style='width: 92px;').form-control(name='dob_day')
                                option(value='') DD
                                option(value='1')
                                    | 1
                                option(value='2')
                                    | 2
                                option(value='3')
                                    | 3
                                option(value='4')
                                    | 4
                                option(value='5')
                                    | 5
                                option(value='6')
                                    | 6
                                option(value='7')
                                    | 7
                                option(value='8')
                                    | 8
                                option(value='9')
                                    | 9
                                option(value='10')
                                    | 10
                                option(value='11')
                                    | 11
                                option(value='12')
                                    | 12
                                option(value='13')
                                    | 13
                                option(value='14')
                                    | 14
                                option(value='15')
                                    | 15
                                option(value='16')
                                    | 16
                                option(value='17')
                                    | 17
                                option(value='18')
                                    | 18
                                option(value='19')
                                    | 19
                                option(value='20')
                                    | 20
                                option(value='21')
                                    | 21
                                option(value='22')
                                    | 22
                                option(value='23')
                                    | 23
                                option(value='24')
                                    | 24
                                option(value='25')
                                    | 25
                                option(value='26')
                                    | 26
                                option(value='27')
                                    | 27
                                option(value='28')
                                    | 28
                                option(value='29')
                                    | 29
                                option(value='30')
                                    | 30
                                option(value='31')
                                    | 31
                    .form-group
                        .input-group(style='margin-left: 30px;')#dob_year-cg
                            select#dob_year-tf(style='width: 92px;').form-control(name='dob_year')
                                option(value='') YYYY
                                    option(value='1994')
                                        | 1994
                                    option(value='1993')
                                        | 1993
                                    option(value='1992')
                                        | 1992
                                    option(value='1991')
                                        | 1991
                                    option(value='1990')
                                        | 1990
                                    option(value='1989')
                                        | 1989
                                    option(value='1988')
                                        | 1988
                                    option(value='1987')
                                        | 1987
                                    option(value='1986')
                                        | 1986
                                    option(value='1985')
                                        | 1985
                                    option(value='1984')
                                        | 1984
                                    option(value='1983')
                                        | 1983
                                    option(value='1982')
                                        | 1982
                                    option(value='1981')
                                        | 1981
                                    option(value='1980')
                                        | 1980
                                    option(value='1979')
                                        | 1979
                                    option(value='1978')
                                        | 1978
                                    option(value='1977')
                                        | 1977
                                    option(value='1976')
                                        | 1976
                                    option(value='1975')
                                        | 1975
                                    option(value='1974')
                                        | 1974
                                    option(value='1973')
                                        | 1973
                                    option(value='1972')
                                        | 1972
                                    option(value='1971')
                                        | 1971
                                    option(value='1970')
                                        | 1970
                                    option(value='1969')
                                        | 1969
                                    option(value='1968')
                                        | 1968
                                    option(value='1967')
                                        | 1967
                                    option(value='1966')
                                        | 1966
                                    option(value='1965')
                                        | 1965
                                    option(value='1964')
                                        | 1964
                                    option(value='1963')
                                        | 1963
                                    option(value='1962')
                                        | 1962
                                    option(value='1961')
                                        | 1961
                                    option(value='1960')
                                        | 1960
                                    option(value='1959')
                                        | 1959
                                    option(value='1958')
                                        | 1958
                                    option(value='1957')
                                        | 1957
                                    option(value='1956')
                                        | 1956
                                    option(value='1955')
                                        | 1955
                                    option(value='1954')
                                        | 1954
                                    option(value='1953')
                                        | 1953
                                    option(value='1952')
                                        | 1952
                                    option(value='1951')
                                        | 1951
                                    option(value='1950')
                                        | 1950
                                    option(value='1949')
                                        | 1949
                                    option(value='1948')
                                        | 1948
                                    option(value='1947')
                                        | 1947
                                    option(value='1946')
                                        | 1946
                                    option(value='1945')
                                        | 1945
                                    option(value='1944')
                                        | 1944
                                    option(value='1943')
                                        | 1943
                                    option(value='1942')
                                        | 1942
                                    option(value='1941')
                                        | 1941
                                    option(value='1940')
                                        | 1940
                                    option(value='1939')
                                        | 1939
                h4(style='margin-top: 20px;margin-bottom: 0px;') Create Your Account
                hr(style='margin-top: 5px;')
                .input-group#phone_number-cg(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Cell #
                    input#phone_number-tf.form-control.disabled(type='text', name='phone_number', value= user.phone_number, placeholder='Cell Number', maxlength='15')
                .input-group#email-cg(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Email
                    input#email-tf.form-control(type='text', name='email', value= user.email, placeholder='Email', maxlength='50')
                .input-group#password-cg(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Password
                    input#password-tf.form-control(type='password', name='password', value='', placeholder='Password', maxlength='20')
                h4(style='margin-top: 20px;margin-bottom: 0px;') Your Driving Information
                hr(style='margin-top: 5px;')
                .input-group#taxi_company-cg(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Taxi Company
                    select#taxi_company-tf.form-control(name='taxi_company', placeholder='Taxi Company')
                        option(value='') Select
                        each item, i in affiliates
                            if item._id == user.taxi_company
                                option(value='#{item._id}', selected='true') #{item.name}
                            else
                                option(value='#{item._id}') #{item.name}
                .input-group#chauffeur_license_no-cg(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Chauffeur License #
                    input#chauffeur_license_no-tf.form-control(type='text', name='chauffeur_license_no', value= user.chauffeur_license_no, placeholder='Chauffeur License #', maxlength='15')
                .input-group(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Chauffeur License State
                    input#driver_license_state-tf.form-control(type='text', name='chauffeur_license_state', value= 'IL', placeholder='Driver License State' disabled="disabled")
                .input-group(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Chauffeur License City
                    input#driver_license_city-tf.form-control(type='text', name='chauffeur_license_city', value= 'Chicago', placeholder='Driver License City' disabled="disabled")
                .form-inline(style='margin-top: 10px;margin-bottom: 10px;')
                    .form-group
                        .input-group#sed_month-cg(style='margin-left: 15px')
                            span.input-group-addon Chauffeur Exp. Date
                            select#sed_month-tf(style='width: 75px;').form-control(name='sed_month')
                                option(value='') MM
                                option(value='1') JAN
                                option(value='2') FEB
                                option(value='3') MAR
                                option(value='4') APR
                                option(value='5') MAY
                                option(value='6') JUN
                                option(value='7') JUL
                                option(value='8') AUG
                                option(value='9') SEP
                                option(value='10') OCT
                                option(value='11') NOV
                                option(value='12') DEC
                    .form-group
                        .input-group#sed_day-cg(style='margin-left: 30px;')
                            select#sed_day-tf(style='width: 75px;').form-control(name='sed_day')
                                option(value='') DD
                                option(value='1')
                                    | 1
                                option(value='2')
                                    | 2
                                option(value='3')
                                    | 3
                                option(value='4')
                                    | 4
                                option(value='5')
                                    | 5
                                option(value='6')
                                    | 6
                                option(value='7')
                                    | 7
                                option(value='8')
                                    | 8
                                option(value='9')
                                    | 9
                                option(value='10')
                                    | 10
                                option(value='11')
                                    | 11
                                option(value='12')
                                    | 12
                                option(value='13')
                                    | 13
                                option(value='14')
                                    | 14
                                option(value='15')
                                    | 15
                                option(value='16')
                                    | 16
                                option(value='17')
                                    | 17
                                option(value='18')
                                    | 18
                                option(value='19')
                                    | 19
                                option(value='20')
                                    | 20
                                option(value='21')
                                    | 21
                                option(value='22')
                                    | 22
                                option(value='23')
                                    | 23
                                option(value='24')
                                    | 24
                                option(value='25')
                                    | 25
                                option(value='26')
                                    | 26
                                option(value='27')
                                    | 27
                                option(value='28')
                                    | 28
                                option(value='29')
                                    | 29
                                option(value='30')
                                    | 30
                                option(value='31')
                                    | 31
                    .form-group
                        .input-group#sed_year-cg(style='margin-left: 30px;')
                            select#sed_year-tf(style='width: 90px;').form-control(name='sed_year')
                                option(value='') YYYY
                                    option(value='2034')
                                        | 2034
                                    option(value='2033')
                                        | 2033
                                    option(value='2032')
                                        | 2032
                                    option(value='2031')
                                        | 2031
                                    option(value='2030')
                                        | 2030
                                    option(value='2029')
                                        | 2029
                                    option(value='2028')
                                        | 2028
                                    option(value='2027')
                                        | 2027
                                    option(value='2026')
                                        | 2026
                                    option(value='2025')
                                        | 2025
                                    option(value='2024')
                                        | 2024
                                    option(value='2023')
                                        | 2023
                                    option(value='2022')
                                        | 2022
                                    option(value='2021')
                                        | 2021
                                    option(value='2020')
                                        | 2020
                                    option(value='2019')
                                        | 2019
                                    option(value='2018')
                                        | 2018
                                    option(value='2017')
                                        | 2017
                                    option(value='2016')
                                        | 2016
                                    option(value='2015')
                                        | 2015
                                    option(value='2014')
                                        | 2014
                .input-group(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Chauffeur License Attached
                    if (user.chauffeur_license_attachment)
                        a#chauffeur_license_attached.form-control(href=user.chauffeur_license_attachment value=user.chauffeur_license_attachment)    View
                    else
                        .form-control No Attachment
                .input-group(style='margin-top: 10px;margin-bottom: 10px;')
                    span.input-group-addon Chauffeur License Attachment
                    input#chauffeur_license_attachment-tf.form-control(type='file', name='chauffeur_license_attachment', value= '', placeholder='chauffeur License Attachment')
                input(type="hidden", id="fra", name="fra",value= 'false')
                input(type="hidden", id="_id", name="_id",value= user._id)
                input(type="hidden", id="registration_token", name="registration_token",value= user.registration_token)
                input(type="hidden", id="dob", name="dob",value= user.date_of_birth)
                input(type="hidden", id="sed", name="sed",value= user.chauffeur_expiration_date)
                input(type="hidden", id="led", name="led",value= user.driver_license_expiration_date)
                .form-actions(style='margin-top: 15px;margin-bottom: 15px;margin-left:-30px;')
                    button(type='button')#account-form-btn1.btn
                    button(type='submit')#account-form-btn2.btn
// display form errors in a custom modal window //
include modals/form-errors
include modals/lost-password