/**
 * Created by Naveed on 7/3/2014.
 *  {passangerid, requestid(autogeneratedid) , driverid,  status}
 possible values are "pending", "fulfilled" , "cancelled", "not-fulfilled
 */



var mongoose=require('mongoose'),
    autoIncrement = require('mongoose-auto-increment'),
    Schema=mongoose.Schema,
    ObjectId=mongoose.Schema.Types.ObjectId;
    autoIncrement.initialize(mongoose.connection);

var PassengerRequestSchema=new Schema({
        passengerid:String,
        driverid: {type:String, ref:'Driver'},
        requestid: String,
        passenger_request_status: {type:String,enum:['pending','fulfilled','cancelled','not-fulfilled']},

        request_datetime : {type:Date,default:Date.now},
        passenger_cell_no:String,
        
        payment_choice:String,
        payment_option:String,

        latitude:Number,
        longitude:Number,   
        request_address:String,
        request_postal_code:String,
        request_city:String,
        request_country:String,
        request_state:String,


        driver_cell_no:String,

        requested_drivers:[String]
    },
    {
        collection:'passengerrequests'
    }

);

PassengerRequestSchema.plugin(autoIncrement.plugin,{model:'PassengerRequest',field:'requestid'});

mongoose.model('PassengerRequest',PassengerRequestSchema);

